# Инструкция по работе с Git.

## 1. Проверка наличия установленного Git.

В терминале выполнить команду:

```
git version
```

Если Git установлен в операционной системе, то в появившемся сообщении появится версия установленного Git.

Если Git не установлен, то появится сообщение об ошибке.

## 2. Установка Git.

Загружаем последнюю версию Git с [сайта](https://git-scm.com/downloads "Ссылка на скачивание")

Устанавливаем с настройками по умолчанию.

## 3. Настройка Git.

При первом использовании Git небходимо *представиться*.

Для этого нужно ввести в терминале две команды:

```
git config --global user.name "Ваше имя"
git config --global user.email "Ваша почта"
```

Это действие выполняется _**один раз**_. В дальнейшем Git будет вас узнавать.

## 4. Инициализация репозитория.

Инициализировать репозиторий можно двумя способами:

1. В терминале переходим к папке, в которой хотим создать репозиторий. Для этого нажимаем **File -> Open Folder...** (можно использовать сочетание клавиш **Ctrl+K**) и выбираем нужную папку.

    Далее выполняем команду `git init`. 

    В исходной папке появится скрытая папка *.git*, содержащая все необходимые файлы - структуру Git репозитория.

2. Клонировать существующий репозиторий Git из любого места.

    Сделать это можно командой `git clone <адрес репозитория>` *(информация о команде `clone` будет добавлена позже)*

Для создания нового файла в репозитории можно воспользоваться отдим из способов:

1. Необходимо в интерфейсе программы Visual Studio Code перейти во вкладку Explorer (иконка с двумя листками в верхнем левом углу) и нажать значок **New File**. 

    Так же можно нажать правой кнопкой мыши в появившемся поле Explorer и в выпадающем списке выбрать **New File**.

    После этого необходимо задать иия файла и его расширение.

2. Можно воспользоваться командой в терминале:

    ```
    touch <имя файла.расширение>
    ```
    Пример использования:

    ```
    touch new_file.md
    ```

Независимо от описанных способов добавления, новые файлы появятся в репозитории, но не будут отслеживаться Git. О добавлении новых файлов в индекс читай в разделе **5**.

## 5. Запись изменений в репозиторий.

Список команд для внесения изменений в репозиторий:

* Чтобы посмотреть состояние файлов в репозитории, необходимо выполнить команду:

    ```
    git status
    ```

    * **Красный** цвет имени файла - файл содержит не подготовленные к следующему коммиту изменения.
    * **Зеленый** цвет имени файла - все текущие изменения добавлены в индекс и готовы к следующему коммиту.
    * Сообщение _**nothing to commit, working tree clean**_ говорит о том, что отсутствуют изменения для коммита.

* Для добавления содержимого нового файла в индекс используется команда:

    ```
    git add <имя файла с расширением>
    ```

* Чтобы зафиксировать изменения в репозитории используется команда:

    ```
    git commit -m "название коммита"
    ```

* Для просмотра разницы между последним коммитом и текущими изменениями необходимо воспользоваться командой:

   ```
   git diff
   ```

* Для удаления случайно дабавленного в индекс файла нужно прописать команду:

    ~~~
    git rm --cached <имя файла с расширением>
    ~~~

    После этого файл удалится из индекса.

## 6. Просмотр истории коммитов.

Для просмотра истории созданных коммитов используется команда:

```
git log
```

Данная команда перечисляет коммиты с их хэш-кодами, именем и электронной почтой, датой создания и сообщением коммита.
По умолчанию последние коммиты находятся вверху.

Для вывода сокращенного лога необходимо дописать `--oneline`. В таком случае лог покажет только первые 7 символов хэш-кода записанных коммитов и их названия.

Пример использования `--oneline`:

```
git log --oneline
```

Для выхода из режима просмотра истории используется клавиша
**"Q"**

## 7. Перемещение между коммитами.

Чтобы перейти к нужному сохранению (коммиту) нужно использовать команду:

```
git checkout <хэш-код>
```

Пример использования команды `git checkout`:

```
git checkout 4a97f09
```

**Такой переход можно использовать только для просмотра!**

Продолжить работу над файлом можно только после перехода на верх ветки командой:

```
git checkout master
```

или

```
git switch -
```

**ВАЖНО!** *Команда `git switch -` может не работать в старых версиях Git!*

Любые изменения файла после команды `git checkout <название коммита>` делаются через дополнительную ветку 
*(информация об этом будет добавлена позже.)*

## 8. Игнорирование файлов.

Для добавления файла в список игнорируемых необходимо создать в репозитории файл **.gitignore**. Пример:

~~~
touch .gitignore
~~~

* *В систему контроля версий добавляются только текстовые файлы или исходный код нашей программы. Для всего остального есть __.gitignore__.*
* *Не забыть добавить созданный файл в индекс и сделать об этом __commit__*

После этого нужно внутри файла **.gitignore** прописать навания игнорируемых файлов с расширением. Прописанные файлы будут игнорироваться программой для контроля версий Git.

Перед тем как начать игнорировать готовые файлы (изображения и т.д.) необходимо их добавить в папку к репозиторию.

Предположим нам нужно начать работу с изображением и добавить его в текст. Размещаем файл с изображеним в папке репозитория и пишем следующее:

~~~
![Это паучок!](spider.jpg)
~~~

* Восклицательный знак
* Квадратные скобки с альтернативным текстом (он будет виден, если по каким-то причинам картинка не доступна).
* Круглые скобки с названием файла и его расширением.

Прописываем `spider.jpg` в файле **.gitignore** и теперь его версия не будет контролироваться Git, однако с изображением можно будет работать.

Картинка в тексте выглядит так:
![Это паучок!](spider.jpg)

## 9. Ветвления.

Ветвления позволяют нам разделять работу по разным ветвям, чтобы мы могли свободно работать с исходным кодом, не затрагивая чью-либо работу или фактический код в основной ветви.

Для работы с ветвлениями в Git существует множество команд. В следующих подразделах рассмотрим основные из них.

### 9.1 Создание веток.

Для создания новой ветки используется команда:

~~~
git branch <имя ветки>
~~~

После этой команды в репозитории появится новая ветка со всеми изменениями текущей позиции **HEAD**. Создание ветки возможно из любой желаемой позиции (из любого коммита).
* __HEAD__ - указатель, который указывает на просматриваемый коммит. По стандарту он указывает на последний сделанный коммит.

Для продолжения работы в новой ветке необходимо в неё перейти командой `git checkout <имя ветки>`.

Существует способ, который позволяет одновременно создать ветку и перейти в неё:

~~~
git checkout -b <имя ветки>
~~~

### 9.2 Слияние веток.

Для слияния веток необходимо перейти в ветку, в которую нужно залить изменения из другой ветки и ввести команду:

~~~
git merge <название ветки>
~~~

После ввода этой команды Git зальет все изменения из указанной ветки в ту ветку, в которой вы находились на мемент слияния. 

Если конфликтов не возникнет, то основная ветка просто обретет новые данные. 

О разрешении конфликтов читай в подразделе 9.3.

### 9.3 Разрешение конфликтов.

При слиянии веток может произойти конфликт версий. Например когда в одних и тех же строчках присутствуют разные изменения.

Решить конфликт можно с помощью интерфейса **Visual Studio Code**. При возникновении конфликта интерфейс программы предлагает нам на выбор 3 варианта развития событий:

1. *Accept Current Change* - оставить текущее изменение (не вливать изменения из указанной при слиянии ветки).
2. *Accept Incoming Change* - принять входящие изменения (удаление текущих изменений).
3. *Accept Both Changes* - оставить текущие и принять входящие изменения. В этом случае обе версии изменений файла окажутся в основной ветке.

Так же VSC предложит сравнить изменения в отдельном окне. Что бы в него перейти необходимо нажать *Compare Changes*.

### 9.4 Удаление веток.