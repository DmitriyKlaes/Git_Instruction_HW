# _**Инструкция по работе с Git.**_

## _**1. Проверка наличия установленного Git.**_

В терминале выполнить команду:

```
git version
```

Если Git установлен в операционной системе, то в появившемся сообщении появится версия установленного Git.

Если Git не установлен, то появится сообщение об ошибке.

## _**2. Установка Git.**_

Загружаем последнюю версию Git с [сайта](https://git-scm.com/downloads "Ссылка на скачивание")

Устанавливаем с настройками по умолчанию.

## _**3. Настройка Git.**_

При первом использовании Git небходимо *представиться*.

Для этого нужно ввести в терминале две команды:

```
git config --global user.name "Ваше имя"
git config --global user.email "Ваша почта"
```

Это действие выполняется _**один раз**_. В дальнейшем Git будет вас узнавать.

## _**4. Инициализация репозитория.**_

Инициализировать репозиторий можно двумя способами:

1. В терминале переходим к папке, в которой хотим создать репозиторий. Для этого нажимаем **File -> Open Folder...** (можно использовать сочетание клавиш **Ctrl+K**) и выбираем нужную папку.

    Далее выполняем команду `git init`. 

    В исходной папке появится скрытая папка *.git*, содержащая все необходимые файлы - структуру Git репозитория.

2. Клонировать существующий репозиторий Git из любого места.

    Сделать это можно командой `git clone <адрес репозитория>`.
    Адрес репозитория выбирается из желаемых на одном из порталов, например **GitHub**.
    
    Для получения адреса:
    * Сначала находим автора репозитория на **GitHub**
    * Переходим во вкдадку с репозиториями:
    ![repositories](repositories.jpg)
    * Затем выбираем нужный репозиторий и внутри него жмем на зеленую кнопку Code:
    ![repositories](code.jpg)
    * Далее копируем путь к репозиторию спец. кнопкой:
    ![repositories](copy_adress.jpg)

    Теперь переходим к терминалу новой созданной папки и вводим заветную команду `git clone <адрес репозитория>`.

    Выбранный репозиторий склонируется к вам на компьютер. Останется только перейти в скачанную папку (она будет иметь такое же имя, что и на платформе, откуда вы копировали адрес). Делается это так:

    ```
    cd <имя папки>
    ```

    После этого вы попадаете в корень скачанного репозитория и можете приступать к работе.

Для создания нового файла в репозитории можно воспользоваться отдим из способов:

1. Необходимо в интерфейсе программы Visual Studio Code перейти во вкладку Explorer (иконка с двумя листками в верхнем левом углу) и нажать значок **New File**. 

    Так же можно нажать правой кнопкой мыши в появившемся поле Explorer и в выпадающем списке выбрать **New File**.

    После этого необходимо задать иия файла и его расширение.

2. Можно воспользоваться командой в терминале:

    ```
    touch <имя файла.расширение>
    ```
    Пример использования:

    ```
    touch new_file.md
    ```

Независимо от описанных способов добавления, новые файлы появятся в репозитории, но не будут отслеживаться Git. О добавлении новых файлов в индекс читай в разделе **5**.

## _**5. Запись изменений в репозиторий.**_

Список команд для внесения изменений в репозиторий:

* Чтобы посмотреть состояние файлов в репозитории, необходимо выполнить команду:

    ```
    git status
    ```

    * **Красный** цвет имени файла - файл содержит не подготовленные к следующему коммиту изменения.
    * **Зеленый** цвет имени файла - все текущие изменения добавлены в индекс и готовы к следующему коммиту.
    * Сообщение _**nothing to commit, working tree clean**_ говорит о том, что отсутствуют изменения для коммита.

* Для добавления содержимого нового файла в индекс используется команда:

    ```
    git add <имя файла с расширением>
    ```

* Чтобы зафиксировать изменения в репозитории используется команда:

    ```
    git commit -m "название коммита"
    ```

* Для просмотра разницы между последним коммитом и текущими изменениями необходимо воспользоваться командой:

   ```
   git diff
   ```

* Для удаления случайно дабавленного в индекс файла нужно прописать команду:

    ~~~
    git rm --cached <имя файла с расширением>
    ~~~

    После этого файл удалится из индекса.

## _**6. Просмотр истории коммитов.**_

Для просмотра истории созданных коммитов используется команда:

```
git log
```

Данная команда перечисляет коммиты с их хэш-кодами, именем и электронной почтой, датой создания и сообщением коммита.
По умолчанию последние коммиты находятся вверху.

Для вывода сокращенного лога необходимо дописать `--oneline`. В таком случае лог покажет только первые 7 символов хэш-кода записанных коммитов и их названия.

Пример использования `--oneline`:

```
git log --oneline
```

Для выхода из режима просмотра истории используется клавиша
**"Q"**

## _**7. Перемещение между коммитами.**_

Чтобы перейти к нужному сохранению (коммиту) нужно использовать команду:

```
git checkout <хэш-код>
```

Пример использования команды `git checkout`:

```
git checkout 4a97f09
```

**Такой переход можно использовать только для просмотра!**

Продолжить работу над файлом можно только после перехода на верх ветки командой:

```
git checkout master
```

или

```
git switch -
```

**ВАЖНО!** *Команда `git switch -` может не работать в старых версиях Git!*

Любые изменения файла после команды `git checkout <название коммита>` делаются через дополнительную ветку 
*(информация об этом будет добавлена позже.)*

## _**8. Игнорирование файлов.**_

Для добавления файла в список игнорируемых необходимо создать в репозитории файл **.gitignore**. Пример:

~~~
touch .gitignore
~~~

* *В систему контроля версий добавляются только текстовые файлы или исходный код нашей программы. Для всего остального есть __.gitignore__.*
* *Не забыть добавить созданный файл в индекс и сделать об этом __commit__*

После этого нужно внутри файла **.gitignore** прописать навания игнорируемых файлов с расширением. Прописанные файлы будут игнорироваться программой для контроля версий Git.

Перед тем как начать игнорировать готовые файлы (изображения и т.д.) необходимо их добавить в папку к репозиторию.

Предположим нам нужно начать работу с изображением и добавить его в текст. Размещаем файл с изображеним в папке репозитория и пишем следующее:

~~~
![Это паучок!](spider.jpg)
~~~

* Восклицательный знак
* Квадратные скобки с альтернативным текстом (он будет виден, если по каким-то причинам картинка не доступна).
* Круглые скобки с названием файла и его расширением.

Прописываем `spider.jpg` в файле **.gitignore** и теперь его версия не будет контролироваться Git, однако с изображением можно будет работать.

Картинка в тексте выглядит так:
![Это паучок!](spider.jpg)

## _**9. Ветвления.**_

Ветвления позволяют нам разделять работу по разным ветвям, чтобы мы могли свободно работать с исходным кодом, не затрагивая чью-либо работу или фактический код в основной ветви.

Для работы с ветвлениями в Git существует множество команд. В следующих подразделах рассмотрим основные из них.

### _**9.1 Создание веток.**_

Для создания новой ветки используется команда:

~~~
git branch <имя ветки>
~~~

После этой команды в репозитории появится новая ветка со всеми изменениями текущей позиции **HEAD**. Создание ветки возможно из любой желаемой позиции (из любого коммита).
* __HEAD__ - указатель, который указывает на просматриваемый коммит. По стандарту он указывает на последний сделанный коммит.

Для продолжения работы в новой ветке необходимо в неё перейти командой `git checkout <имя ветки>`.

Существует способ, который позволяет одновременно создать ветку и перейти в неё:

~~~
git checkout -b <имя ветки>
~~~

### _**9.2 Слияние веток.**_

Для слияния веток необходимо перейти в ветку, в которую нужно залить изменения из другой ветки и ввести команду:

~~~
git merge <название ветки>
~~~

После ввода этой команды Git зальет все изменения из указанной ветки в ту ветку, в которой вы находились на мемент слияния. 

Если конфликтов не возникнет, то основная ветка просто обретет новые данные. 

О разрешении конфликтов читай в подразделе 9.3.

### _**9.3 Разрешение конфликтов.**_

При слиянии веток может произойти конфликт версий. Например когда в одних и тех же строчках присутствуют разные изменения.

Решить конфликт можно с помощью интерфейса **Visual Studio Code**. При возникновении конфликта интерфейс программы предлагает нам на выбор 3 варианта развития событий:

1. *Accept Current Change* - оставить текущее изменение (не вливать изменения из указанной при слиянии ветки).
2. *Accept Incoming Change* - принять входящие изменения (удаление текущих изменений).
3. *Accept Both Changes* - оставить текущие и принять входящие изменения. В этом случае обе версии изменений файла окажутся в основной ветке.

Так же VSC предложит сравнить изменения в отдельном окне. Что бы в него перейти необходимо нажать *Compare Changes*.

После разрешения конфликта необходимо сделать `commit` об этом.

### _**9.4 Удаление веток.**_

Если потребовалось удалить какую-нибудь ветку, необходимо воспользоваться командой:

~~~
git branch -d <имя ветки>
~~~

Принудительное удаление ветки нужно использовать с оператором `-D` (большая `-D` вместо маленькой `-d`).

_**ВЕТКИ СЛЕДУЕТ УДАЛЯТЬ ОЧЕНЬ ВНИМАТЕЛЬНО!!! ПЕРЕД УДАЛЕНИЕМ ЕЩЕ РАЗ ПРОВЕРЬ, ЧТО ВСЯ ИНФОРМАЦИЯ ИЗ УДАЛЯЕМОЙ ВЕТКИ ПЕРЕНЕСЕНА В ОСНОВНУЮ И БОЛЬШЕ НЕ НУЖНА!!!**_

## _**10. Удаленные репозитории.**_

**Удаленный репозиторий** - это репозиторий, который находится не на вашем компьютере, а на другом (или в сервисе, наподобие **GitHub**). В основном он используютмя для совместной работы над проектами.

Один из сервисов для хранения репозиториев является [GitHub](https://github.com/ "Ссылка на скачивание")

После не сложной регистрации на портале можно приступать к работе.